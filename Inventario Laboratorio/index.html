<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario y Stock de Laboratorio</title>
    <link rel="icon" type="image/png" href="img/logo_nuevo.png">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header>
<div style="display: flex; align-items: center;">
<img src="img/logo_ipetaym.png" alt="Logo IPETAYM" class="logo-header">
<h1>Inventario de Laboratorio</h1>
</div>

<div class="user-panel">
  <span id="usuario-logueado"></span>
  <button id="btn-login">Iniciar sesi√≥n</button>
  <button id="btn-logout" style="display:none;">Cerrar sesi√≥n</button>
</div>


<nav>
<ul>
<li><a href="#dashboard">Dashboard</a></li>
<li><a href="#insumos">Gesti√≥n de Insumos</a></li>
<li><a href="#movimientos">Movimientos de Stock</a></li>
<li><a href="#proveedores">Proveedores</a></li>
<li><a href="#reportes">Reportes</a></li>
<li><a href="#usuarios">Usuarios</a></li>
</ul>
</nav>
</header>

    <main>
        <section id="dashboard" class="active">
            <h2>Dashboard</h2>
            <div class="summary">
                <p>Total de Insumos: <span id="total-insumos">0</span></p>
                <p>Insumos Bajos: <span id="insumos-bajos">0</span></p>
            </div>
            <h3>Alertas y Reportes R√°pidos</h3>
            <ul id="alertas-dashboard">
                </ul>
        </section>

        <section id="insumos">
              <h2>Gesti√≥n de Insumos</h2>
    <div class="mensaje-login-requerido" style="display:none;">
    <p style="text-align:center; font-size:18px; padding:20px;">
      üîí Inicie sesi√≥n para visualizar esta secci√≥n
    </p>
  </div>

  <div class="contenido-protegido">
                <div class="actions-header">
            <button id="add-insumo-btn">‚ûï Agregar Nuevo Insumo</button>
      <input type="text" id="search-insumo" placeholder="Buscar insumo por nombre, categor√≠a o proveedor...">
          </div>

  <div id="insumo-form-container" style="display: none;">
    <h3>Formulario de Insumo</h3>
    <form id="insumo-form">
      <input type="hidden" id="insumo-id">

      <label for="nombre-insumo">Nombre:</label>
      <input type="text" id="nombre-insumo" required>

      <label for="tipo-general">Tipo:</label>
      <select id="tipo-general" required>
        <option value="">Seleccione un tipo</option>
        <option value="Reactivos">Reactivos</option>
        <option value="Instrumentos y equipos">Instrumentos y equipos</option>
        <option value="Soluciones y m√°s">Soluciones y m√°s</option>
        <option value="Material de vidrio">Material de vidrio</option>
        <option value="Material de plastico">Material de plastico</option>
      </select>

      <div id="reactivos-extra" style="display:none; margin-left: 6px;">
        <label for="tipo-reactivo">Tipo de Reactivo:</label>
        <select id="tipo-reactivo">
          <option value="">Seleccione</option>
          <option value="org√°nicos">Org√°nicos</option>
          <option value="inorg√°nicos">Inorg√°nicos</option>
        </select>

        <label for="estado-reactivo">Estado:</label>
        <select id="estado-reactivo">
          <option value="">Seleccione</option>
          <option value="s√≥lidos">S√≥lidos</option>
          <option value="l√≠quidos">L√≠quidos</option>
        </select>
      </div>

      <input type="hidden" id="categoria-insumo" value="">

      <label for="cantidad-insumo">Cantidad:</label>
      <input type="number" id="cantidad-insumo" min="0" required>

      <label for="unidad-insumo">Unidad:</label>
      <input type="text" id="unidad-insumo" placeholder="Ej: ml, gramos, unidades">

      <label for="ubicacion-insumo">Ubicaci√≥n:</label>
      <input type="text" id="ubicacion-insumo" placeholder="Ej: Armario A1, Estante 3">

      <label for="proveedor-insumo">Proveedor:</label>
      <select id="proveedor-insumo">
        <option value="">Seleccione un proveedor</option>
      </select>

      <label for="observaciones-insumo">Observaciones:</label>
      <textarea id="observaciones-insumo" rows="3" placeholder="Ej: Mantener refrigerado, manipular con guantes..."></textarea>

      <div class="form-buttons">
        <button type="submit">Guardar Insumo</button>
        <button type="button" id="cancel-insumo-form">Cancelar</button>
      </div>
    </form>
  </div>

  <table id="insumos-list">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Categor√≠a</th>
        <th>Cantidad</th>
        <th>Unidad</th>
        <th>Proveedor</th>
        <th>Ubicaci√≥n</th>
        <th>Observaciones</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
    </div> 
</section>

        <section id="movimientos">
            <h2>Movimientos de Stock</h2>
            
  <div class="mensaje-login-requerido" style="display:none;">
    <p style="text-align:center; font-size:18px; padding:20px;">
      üîí Inicie sesi√≥n para visualizar esta secci√≥n
    </p>
  </div>

  <div class="contenido-protegido">
            <button id="add-movimiento-btn">Registrar Movimiento</button>
            <div id="movimiento-form-container" style="display: none;">
                <h3>Registrar Movimiento</h3>
                <form id="movimiento-form">

<label for="movimiento-insumo">Insumo:</label>

<div class="autocomplete-container">
    <input type="text" id="autocomplete-insumo" placeholder="Buscar insumo...">
    <div id="autocomplete-list" class="autocomplete-list"></div>
</div>



                    <label for="tipo-movimiento">Tipo de Movimiento:</label>
                    <select id="tipo-movimiento" required>
                        <option value="entrada">Entrada</option>
                        <option value="salida">Salida</option>
                    </select>
                    <label for="cantidad-movimiento">Cantidad:</label>
                    <input type="number" id="cantidad-movimiento" min="1" required>
                    <label for="motivo-movimiento">Motivo:</label>
                    <input type="text" id="motivo-movimiento" required>
                    <button type="submit">Guardar Movimiento</button>
                    <button type="button" id="cancel-movimiento-form">Cancelar</button>
                </form>
            </div>
            <table id="movimientos-list">
                <thead>
                    <tr>
                        <th>Insumo</th>
                        <th>Movimiento</th>
                        <th>Cantidad</th>
                        <th>Motivo</th>
                        <th>Fecha</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
              </div> 
</section>


        <section id="proveedores">
            <h2>Gesti√≥n de Proveedores</h2>
              <div class="mensaje-login-requerido" style="display:none;">
    <p style="text-align:center; font-size:18px; padding:20px;">
      üîí Inicie sesi√≥n para visualizar esta secci√≥n
    </p>
  </div>

  <div class="contenido-protegido">

            <button id="add-proveedor-btn">Agregar Nuevo Proveedor</button>
            <div id="proveedor-form-container" style="display: none;">
                <h3>Formulario de Proveedor</h3>
                <form id="proveedor-form">
                    <input type="hidden" id="proveedor-id">
                    <label for="nombre-proveedor">Nombre:</label>
                    <input type="text" id="nombre-proveedor" required>
                    <label for="contacto-proveedor">Contacto:</label>
                    <input type="text" id="contacto-proveedor">
                    <label for="telefono-proveedor">Tel√©fono:</label>
                    <input type="tel" id="telefono-proveedor">
                    <label for="email-proveedor">Email:</label>
                    <input type="email" id="email-proveedor">
                    <button type="submit">Guardar Proveedor</button>
                    <button type="button" id="cancel-proveedor-form">Cancelar</button>
                </form>
            </div>
            <table id="proveedores-list">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Contacto</th>
                        <th>Tel√©fono</th>
                        <th>Email</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
  </div>
</section>


        <section id="reportes">
            <h2>Reportes y Estad√≠sticas</h2>
              <div class="mensaje-login-requerido" style="display:none;">
    <p style="text-align:center; font-size:18px; padding:20px;">
      üîí Inicie sesi√≥n para visualizar esta secci√≥n
    </p>
  </div>

  <div class="contenido-protegido">
            <button id="generar-reporte-stock">Generar Reporte de Stock Cr√≠tico</button>
            <button id="generar-reporte-consumo">Generar Reporte de Consumo</button>
            <button id="exportar-insumos-excel">Exportar Insumos a Excel</button>
            <div id="reporte-contenido">
                </div>
  </div>
</section>



        <section id="usuarios">
            <h2>Usuarios y Roles</h2>
            <button id="add-usuario-btn">Agregar Nuevo Usuario</button>
            <div id="usuario-form-container" style="display: none;">
                <h3>Formulario de Usuario</h3>
                <form id="usuario-form">
                    <input type="hidden" id="usuario-id">
                  
                    <label for="nombre-usuario">Nombre completo:</label>
                    <input type="text" id="nombre-usuario" required>
                  
                    <label for="usuario-usuario">Usuario (login):</label>
                    <input type="text" id="usuario-usuario" required>
                  
                    <label for="contrase√±a-usuario">Contrase√±a:</label>
                    <input type="password" id="contrase√±a-usuario" required>
                  
                    <label for="rol-usuario">Rol:</label>
                    <select id="rol-usuario" required>
                      <option value="admin">Administrador</option>
                      <option value="empleado">Empleado</option>
                    </select>
                  
                    <button type="submit">Guardar Usuario</button>
                    <button type="button" id="cancel-usuario-form">Cancelar</button>
                  </form>
                  
            </div>
            <table id="usuarios-list">
                <thead>
                    <tr>
                        <th>Nombre de Usuario</th>
                        <th>Usuario</th>
                        <th>Rol</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
        </section>

<div id="login-modal" class="modal" style="display:none;">
  <div class="modal-content">
    <h3>Iniciar Sesi√≥n</h3>
    <p id="login-error" style="
      color: #c0392b;
      font-size: 14px;
      margin-bottom: 10px;
      display: none;
    ">
      Usuario o contrase√±a incorrectos
    </p>
    <input type="text" id="login-usuario" placeholder="Usuario"><br><br>
    <input type="password" id="login-password" placeholder="Contrase√±a"><br><br>
    <button id="login-confirmar">Ingresar</button>
    <button id="login-cancelar">Cancelar</button>
  </div>
</div>


<div id="modal-confirmacion" class="modal" style="display:none;">
  <div class="modal-content">
    <h3 id="modal-titulo">Confirmar acci√≥n</h3>
      <p id="modal-mensaje">¬øEst√°s seguro?</p>
    <div class="modal-buttons">
      <button id="modal-confirmar" class="confirm-btn">Confirmar</button>
      <button id="modal-cancelar" class="cancel-btn">Cancelar</button>
    </div>
  </div>
</div>

<div id="info-modal" class="modal" style="display:none;">
  <div class="modal-content">
    <p id="info-modal-text">Mensaje informativo</p>
    <button id="info-modal-close" class="cancel-btn">Cerrar</button>
  </div>
</div>

    </main>

    <script src="js/data.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>